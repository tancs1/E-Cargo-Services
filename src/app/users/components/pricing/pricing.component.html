

<app-header></app-header>
<div class=" w-full h-fit bg-[#F3F7F8] pb-20">
  <div class="w-full pt-20 pb-5 mt-20 flex justify-center items-center   ">
    <div class="w-9/12 bg-[#FFFFFF] lg:px-24  px-5 md:px-10  py-4 rounded-lg shadow-sm">
      <nz-steps [nzCurrent]="2" nzSize="small" >
        <nz-step nzTitle="Location" ></nz-step>
        <nz-step nzTitle="Vehicle & Goods Info"></nz-step>
        <nz-step nzTitle="Price & Booking"></nz-step>
        <nz-step nzTitle="Checkout"></nz-step>
      </nz-steps>
    </div>

  </div>
  <form action=""  [formGroup]="bookingForm" (ngSubmit)="submitForm()">
    <div>
      <div class=" w-full h-fit justify-center items-center   ">
  
        <div class="lg:w-9/12 w-full h-fit  flex lg:flex-row md:flex-col flex-col-reverse gap-5 m-auto  justify-center items-center    ">
          <div class="lg:w-8/12 h-full w-9/12  bg-[#FFFFFF] rounded-lg shadow-sm pt-">
            <p class=" px-5 pt-5  text-lg text-slate-700">Select Pickup Time</p>
            <div class=" flex  w-full    ">
              <div class="w-full px-5 flex flex-col ">
  
                <div class="w-full flex flex-col ">
                  <label class="  text-slate-600 font-semibold" for="">Custom Pickup Time Between</label>
                <div class="w-full flex gap-5  ">
                  
                  <select formControlName="pickupTime"   class="block w-10/12 px-4 py-2 pr-10 leading-tight bg-slate-50 border border-gray-300  shadow-sm focus:outline-none focus:border-gray-500 text-left text-base rounded-lg mt-2 ">
                    <option value="">Select an option</option>
                  <ng-container *ngFor="let item of pickUptime" >
                    <option value="{{item.name}} {{selectedPeriod}}">{{item.name}} </option>
                  </ng-container>
                   
                   
                  </select>
                 
                  <div class="flex flex-col">
                    <button 
                            class="h-7 px-6 rounded-md mb-[1px] outline-none border-0  "
                            [class.bg-slate-200]="selectedPeriod !== 'AM'"
                            [class.bg-[#44566A]]="selectedPeriod === 'AM'"
                            [class.text-white]="selectedPeriod === 'AM'"
                            [class.font-bold]="selectedPeriod === 'AM'"
                            (click)="selectPeriod('AM')">AM</button>
                    <button  
                            class="h-7 rounded-md mb-[1px] outline-none border-0 "
                            [class.bg-slate-200]="selectedPeriod !== 'PM'"
                            [class.bg-[#44566A]]="selectedPeriod === 'PM'"
                            [class.text-white]="selectedPeriod === 'PM'"
                            [class.font-bold]="selectedPeriod === 'PM'"
                            (click)="selectPeriod('PM')">PM</button>
                  </div>
                  
                </div>
               
                <div *ngIf="bookingForm.get('pickupTime')?.touched && bookingForm.get('pickupTime')?.errors?.['required']" class="text-red-500">Pickup time is required</div>
                

                <hr class="bg-slate-50 mt-5">
  
             
                </div>
                <p class="  pt-5 text-lg text-slate-700">Enter Your Details</p>
               <div class=" w-full flex sm:flex-row flex-col  gap-7 mt-3 ">
               <div class="sm:w-6/12 w-full  ">
                <label class=" font-semibold text-slate-600 " for="">Full Name</label>
                <input formControlName="fullName"  class="mt-3" nz-input type="text" placeholder="Full Name" nzSize="large" />
                <div *ngIf="bookingForm.get('fullName')?.touched && bookingForm.get('fullName')?.errors?.['required']" class="text-red-500">Full Name is required</div>
               </div>
               <div class="sm:w-6/12 w-full">
                <label class="  text-slate-600 font-semibold" for="">Phone Number</label>
                <input formControlName="phoneNumber"  class="mt-3" type="number" nz-input placeholder="Phone Number" nzSize="large" minlength="11" maxlength="11" />
             
                <div *ngIf="bookingForm.get('phoneNumber')?.touched && bookingForm.get('phoneNumber')?.errors?.['required']" class="text-red-500">Phone Number is required</div>
               </div>
               </div>
                <p class="  pt-5 text-lg text-slate-700">Enter Receiver's Details</p>
               <div class=" w-full flex sm:flex-row flex-col  gap-7 mt-3 ">
               <div class="sm:w-6/12 w-full">
                <label class=" font-semibold text-slate-600 " for="">Full Name</label>
                <input formControlName="receiverName"  class="mt-3" nz-input type="text" placeholder="Receiver'sName" nzSize="large" />
                
                <div *ngIf="bookingForm.get('receiverName')?.touched && bookingForm.get('receiverName')?.errors?.['required']" class="text-red-500">Receiver's Name is required</div>
               </div>
               <div class="sm:w-6/12 w-full">
                <label class="  text-slate-600 font-semibold" for="">Phone Number</label>
                <input formControlName="receiverPhoneNumber" class="mt-3" type="number" nz-input placeholder="Receiver's Number" nzSize="large" minlength="11" maxlength="11" />
             
        
                <div *ngIf="bookingForm.get('receiverPhoneNumber')?.touched  &&  bookingForm.get('receiverPhoneNumber')?.errors?.['required']" class="text-red-500">Receiver's Phone Number is required</div>
               </div>
               </div>
                
  
  
               <hr class="bg-slate-50 mt-5">
               <p class="  pt-5 text-lg text-slate-700">Location</p>
               <div class=" w-full flex sm:flex-row flex-col  gap-7 mt-3 ">
               <div class="sm:w-6/12 w-full">
                <label class=" font-semibold text-slate-600 " for="">Sender's Address</label>
                <input formControlName="senderAddress" class="mt-3" nz-input type="text" placeholder="Sender's Plot Number" nzSize="large" />
               
                <div *ngIf="bookingForm.get('senderAddress')?.touched && bookingForm.get('senderAddress')?.errors?.['required']" class="text-red-500">Sender's Address is required</div>
               </div>
               <div class="sm:w-6/12 w-full">
                <label class="  text-slate-600 font-semibold" for="">Receiver Address</label>
                <input formControlName="receiverAddress" class="mt-3" type="text" nz-input placeholder="Receiver's Plot Number" nzSize="large" />
              
                <div *ngIf="bookingForm.get('receiverAddress')?.touched && bookingForm.get('receiverAddress')?.errors?.['required']" class="text-red-500">Receiver's Address is required</div>
               </div>
               </div>
               <p class="  pt-5 text-lg text-slate-700">Item Details</p>
               <div class="w-full flex  gap-7 justify-between mt-3 ">
               <div class="w-full">
                
                <nz-textarea-count [nzMaxCharacterCount]="100">
                  <textarea rows="4" formControlName="itemDetails" nz-input></textarea>
                </nz-textarea-count>
            
                <div *ngIf="bookingForm.get('itemDetails')?.touched && bookingForm.get('itemDetails')?.errors?.['required']" class="text-red-500">Item Details is required</div>
              
               </div>
              
               </div>
              </div>
              
  
  
            </div>
  
          </div>
          <div class="lg:w-4/12 h-fit w-9/12 pb-5 pt-10 bg-[#FFFFFF]  rounded-lg shadow-lg px-5">
            <div class="w-full flex flex-col   ">
              <p class="pt-7 text-2xl text-slate-600 ">{{userId}} <span class="text-slate-500 text-2xl">Rafrance ID</span> </p>
             <div class="w-full flex flex-col justify-center items-center">
              <span class="text-lg text-slate-500">Total Price</span>
              <span class="text-3xl font-semibold text-slate-700">Rs.{{totalVechialPrice}}</span>
             </div>
          
            </div>
            <hr bg-slclass="ate-50 mt-4">
            <div class="w-full px-10 mt-8 flex flex-col gap-5" >
             
              <ng-container *ngFor="let item of nextthreedays">
               <div  (click)="selectDay(item.date)"   [class.selected]="selectedDay === item.date"style="border: 1px solid darkblue;" class="rounded-lg   bg-white py-2 px-4 hover:bg-slate-500 hover:text-white">
                <i *ngIf="selectedDay === item.date" class=" text-lg fa-regular fa-circle-check"></i>
                <div  
                 
                 
                  class="justify-center items-center flex flex-col  pb-4 pt-2  duration-300"
                >
                  <span class="text-4xl "> Rs. {{ totalVechialPrice }}</span>
                  <span class="text-xl">{{ item.day }},{{ item.date.split('/')[1] }}</span>
                 
                </div>
               </div>
              </ng-container>
              
              
         
             </div>
            <img  class="" src="../../../../assets/imges/12291153_Logistic workers delivering meds.svg" alt="">
          </div>
        </div>
      </div>
      <div class=" w-full flex justify-center mt-8 gap-8 ">
        <button routerLink="/vehicles-and-goods-info" nz-button nzSize="default" nzType="primary"
          class="w-32 text-base rounded-md bg-[#CCCCCC] border-0 hover:bg-[#a4a3a3]">Back</button>
        <button  type="submit"  nz-button nzSize="default" nzType="primary" class="w-32 text-base rounded-md  " [disabled]="!bookingForm.valid">Book Now</button>
      </div>
    </div>
  </form>
</div>
<app-footer></app-footer>